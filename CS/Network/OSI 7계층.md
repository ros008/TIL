## OSI 7계층

---

![OSI 7 layers](https://s7280.pcdn.co/wp-content/uploads/2018/06/osi-model-7-layers-1.png)
![Network](https://media.vlpt.us/images/soosungp33/post/1c539f96-c113-4f85-a903-7c8fd283377e/1.PNG)
![Network2](https://media.vlpt.us/images/emplam27/post/daa7dcd8-3b74-4e25-8a0c-dfee9ff61c0a/%EC%86%A1%EC%8B%A0%EB%B6%80%20%ED%8C%A8%ED%82%B7%20%EB%B3%80%ED%99%94.jpg)

- 7계층으로 나누는 이유?
  - 통신이 일어나는 과정을 단계별로 알 수 있고, 특정한 곳에 이상이 생기면 그 단계만 수정할 수 있기 때문이다.
- 송신은 7계층 -> 1계층, 수신은 1계층 -> 7계층 순으로 진행된다.
- 계층의 독립 - 어떤 계층의 변화가 다른 계층에 영향을 주지 않는다.

1. Physical (물리 계층) - 리피터, 케이블, 허브 등

   - 하드웨어적으로 구현되어 있다.
   - 물리 계층에서는 주로 전기적, 기계적, 기능적인 특성을 이용하여 통신 케이블로 데이터를 전송한다.
   - 단지 데이터를 전기적인 신호로만 변환해서 주고받는 기능만 한다.
   - 데이터 전송만 하고 어떤 에러가 있는지 신경 쓰지 않는다.
   - `전송 단위는 Bit`이다. `0과 1의 데이터를 아날로그 신호로 바꾸어 전선으로 흘려 보내고(encoding), 아날로그 신호가 들어오면 0과 1의 데이터로 해석하여(decoding)` 물리적으로 연결된 두 대의 컴퓨터가 0과 1의 나열을 주고받을 수 있게 해주는 모듈
     $\Rightarrow$ "통신 케이블", "리피터", "허브"등을 통해 데이터 전송.

2. Data Link (데이터링크 계층) - 브릿지, 스위치 등 랜카드

   - 하드웨어적으로 구현되어 있다.
   - 물리 계층으로 송수신되는 정보의 오류와 흐름을 관리하여 안전하게 전달되도록 도와주는 역할
   - `전송되는 단위를 프레임`(frame) 이라 한다. 어떻게 끊어 읽어야할 지 알려줌.
   - Mac 주소를 통해 통신한다. (Mac 주소란 네트워크 세그먼트의 데이터 링크 계층에서 통신을 위한 네트워크 인터페이스에 할당된 고유 식별자)
   - 프레임에 Mac 주소를 부여하고 `에러검출`, `재전송`, `흐름제어`를 진행한다.
   - 물리 계층에서 발생할 수 있는 오류를 찾아 내고, 수정하는데 필요한 기능적, 절차적 수단을 제공  
     $\Rightarrow$ 프레임에 MAC주소를 부여 하고 에러검출,재전송,흐름제어를 한다.

3. Network (네트워크 계층) - 라우터, IP

   - 운영체제의 커널에 소프트웨어적으로 구현되어 있다.
   - 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(`라우팅`)을 담당한다.
   - 라우터를 통해 이동하는 `경로를 선택`하여 `IP 주소를 지정`하고, 해당 경로에 따라 `패킷을 전달`해준다.
   - 라우팅, 흐름 제어, 오류 제어, 세그멘테이션 등을 수행한다.
   - IP(논리적인 주소 구조)를 할당해 주는 역할  
     $\Rightarrow$ IP주소를 부여하고 경로(route)를 설정해 준다.

4. Transport (전송 계층) - TCP, UDP

   - 운영체제의 커널에 소프트웨어적으로 구현되어 있다.
   - 포트 번호를 사용하여 도착지 컴퓨터의 최종 도착지인 프로세스에까지 데이터가 도달하게 하는 모듈
   - 네트워크 계층에서 보내져 온 데이터의 정렬과 오류 정정 등 수행, 송수신된 데이터의 신뢰성 확보
   - TCP와 UDP 프로토콜을 통해 `통신을 활성화`한다. 포트를 열어두고, 프로그램들이 전송을 할 수 있도록 제공해준다.
     - TCP : 신뢰성, 연결지향적
     - UDP : 비신뢰성, 비연결성, 실시간
   - 단대단 오류제어 및 흐름제어. 이 계층까지는 물리적인 계층에 속한다.
   - 시퀀스 넘버 기반의 오류 제어 방식을 사용 (순서 역전 방지, 중복 패킷 방지)
   - 양 끝단의 사용자들이 신뢰성있는 데이터를 주고 받을 수 있도록 해주어, 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 해준다.
   - 패킷들의 전송이 유효한지 확인하고 전송 실패한 패킷들을 다시 전송
   - 전송 단위는 `세그먼트`이다.  
     $\Rightarrow$ 패킷 생성(Assembly/Sequencing/Deassembly/Error detection/Request repeat/Flow control) 및 전송을 한다.

5. Session (세션 계층) - API, Socket

   - 데이터가 통신하기 위한 `논리적인 연결`을 의미한다.
   - 양 끝단의 프로세스가 데이터 통신을 관리하기 위한 방법을 제시하는 계층
   - TCP/IP 세션을 만들고 없애는 책임을 지닌다.
     - TCP/IP는 인터넷 프로토콜 중 가장 중요한 역할을 하는 TCP와 IP의 합성어로 데이터의 흐름 관리, 정확성 확인, 패킷의 목적지 보장을 담당한다. (데이터의 정확성 확인은 TCP가, 패킷을 목적지까지 전송하는 일은 IP가 담당한다.)
   - 동시 송수신 방식(duplex), 반이중 방식(half-duplex), 전이중 방식(Full Duplex)의 통신과 함께 체크 포인팅과 종료, 다시시작 과정 등을 수행한다.  
     $\Rightarrow$ 통신하는 사용자들을 동기화하고 오류복구 명령들을 일괄적으로 다루고 통신을 하기 위한 세션을 확립/유지/중단 (운영체제가 해준다.)

6. Presentation (표현 계층) - JPEG, MPEG 등

   - 데이터 표현에 대한 독립성을 제공하고 암호화하는 역할을 담당
   - 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로부터 덜어준다.
   - MIME `인코딩`이나 `암호화` 등의 동작이 이루어진다.
     - ex) EBCDIC로 인코딩된 문서 파일을 ASCII로 인코딩된 파일로 바꿔 준다.
     - 해당 데이터가 TEXT인지, 그림인지, GIF인지 JPG인지의 구분 해주기도 한다.

   $\Rightarrow$ 사용자의 명령어를 완성및 결과 표현. 포장/압축/암호화

7. Application (응용 계층) - HTTP, FTP, SMTP, POP3, IMAP, Telnet

   - 통신을 이용하기 위해 필요한 서비스를 사람과 다른 컴퓨터에 제공
   - 사용자가 보는 소프트웨어의 UI, 네트워크 서비스, 사용자의 입출력 부분 등을 담당하는 계층이다.
   - 해당 통신 패킷들은 예시 프로토콜에 의해 모두 처리되며 우리가 사용하는 브라우저나, 메일 프로그램은 프로토콜을 보다 쉽게 사용하게 해주는 응용프로그램이다.
   - 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다.

   $\Rightarrow$ 네트워크 소프트웨어 UI 부분, 사용자의 입출력(I/O)부분

현대의 인터넷은 OSI 모델이 아니라 TCP/IP updated 모델을 따르고 있다.
TCP/IP 모델도 OSI 모델과 마찬가지로 네트워크 시스템에 대한 모델인데,
현대의 인터넷이 TCP/IP 모델을 따르는 이유는 OSI 모델이 TCP/IP 모델과의 시장 점유 싸움에서 졌기 때문이다.

https://velog.io/@dbwlgns98/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-CS%EC%A0%95%EB%A6%AC-1%ED%83%84  
https://velog.io/@soosungp33/CS-Network  
https://goodgid.github.io/NW-OSI-Model/
https://velog.io/@emplam27/CS-%EA%B7%B8%EB%A6%BC%EC%9C%BC%EB%A1%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EA%B3%84%EC%B8%B5%ED%99%94%EC%99%80-OSI-TCPIP-UDP%EC%9D%98-%ED%8A%B9%EC%A7%95%EA%B3%BC-%EC%B0%A8%EC%9D%B4%EC%A0%90
